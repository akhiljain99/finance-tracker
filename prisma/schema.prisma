// schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("PRISMA_DATABASE_URL") // uses connection pooling
}

model Income {
  id        Int     @id @default(autoincrement())
  source    String
  person    String?
  date      String 
  amount    Float
  incomeType String
  user      User?   @relation(fields: [userId], references: [id])
  userId    Int?
}

model User {
  id            Int    @id @default(autoincrement())
  name          String? 
  email         String?   @unique
  password      String?   @unique
  createdAt     DateTime  @default(now()) @map(name: "created_at")
  income        Income[]
  expense       Expenses[]
  goals         Goals[]
  @@map(name: "users")
}

model Expenses{
    id         Int @id @default(autoincrement())
    date       String 
    person     String
    amount     Float
    user       User? @relation(fields: [userId], references: [id])
    category   String
    userId     Int
}

model Category{
    id       Int @id @default(autoincrement())
    name     String 
}

model Goals{
    id      Int @id @default(autoincrement())  
    type    String
    amount  Int
    user    User?   @relation(fields: [userId], references: [id])
    userId  Int?
}